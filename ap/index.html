<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Плейлист</title>
</head>
<body>
    <select id="playlist">
        <option value="01_Eva_Cassidy_-_Autumn_Leaves.mp3">Eva Cassidy - Autumn Leaves</option>
        <option value="02_Frank_Sinatra_-_The_World_We_Knew.mp3">Frank Sinatra - The World We Knew</option>
        <option value="03_Lara_Fabian_-_Je_Suis_Malade.mp3">Lara Fabian - Je Suis Malade</option>
        <option value="04_Glitch_-_Orpheus_and_Eurydice.mp3">Glitch - Orpheus and Eurydice</option>
        <option value="05_Martha_Argerich_Mauricio_Vallina_-_Piazzolla._Oblivion.mp3">Martha Argerich Mauricio Vallina - Piazzolla. Oblivion</option>
        <option value="06_Maurice_Ravel_-_Night_Moths.mp3">Maurice Ravel - Night Moths</option>
        <option value="07_Mikhail_Pletnev_-_Tchaikovsky._The_Nutcracker.mp3">Mikhail Pletnev - Tchaikovsky. The Nutcracker</option>
        <option value="08_Raymond_Pauls_-_Long_Road_in_the_Dunes.mp3">Raymond Pauls - Long Road in the Dunes</option>
        <option value="09_Andrey_Petrov_-_Train.mp3">Andrey Petrov - Train</option>
        <option value="10_Sevara_-_There_Is_No_Me.mp3">Sevara - There Is No Me</option>
        <option value="11_Leonid_Agutin_-_I_Will_Always_Be_With_You.mp3">Leonid Agutin - I Will Always Be With You</option>
        <option value="12_Hang_-_The_Wave.mp3">Hang - The Wave</option>
    </select>

    <audio id="au" controls>
        <source src="" type="audio/mpeg">
    </audio
    <button id="bt">Загрузить и играть</button>

    <script>
        const bt = document.getElementById('bt');
        const au = document.getElementById('au');
        const playlist = document.getElementById('playlist');

        bt.onclick = async () => {
            const selectedFile = playlist.value;
            const myURL = `https://vdovydenkov.github.io/ap/${selectedFile}`;
            const blob = await (await fetch(myURL)).blob();
            const reader = new FileReader();

            reader.onload = e => {
                au.src = e.target.result;
                au.play();
            };

            reader.readAsDataURL(blob);
        };
    </script>
</body>
</html>
    